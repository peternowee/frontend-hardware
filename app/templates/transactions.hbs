{{page-title "Transactions"}}

<ul>
  {{#each @model as |transaction|}}
    <li>
      <small>Transaction ID: {{transaction.id}}</small><br />
      <ul>
        <li>Datetime: {{transaction.datetime}}</li>
        <li>New owner:<br />
          {{transaction.newOwner.name}} <small>{{transaction.newOwner.id}}</small>
          </li>
        <li>Received product:<br />
          Serial number: {{transaction.receivedProduct.serialNumber}}<br />
          Product name: {{transaction.receivedProduct.name}}<br />
          ID: <small>{{transaction.receivedProduct.id}}</small>
        </li>
      </ul>
      <button type="button" {{on "click" (fn this.removeTransaction transaction)}}>Remove</button>
    </li>
  {{/each}}
</ul>

<hr />
<form {{on "submit" this.createTransaction}} >
  <dl>
    <dt><label for="transaction-datetime">
      Date and time
    </label></dt>
    <dd>
      <Input
        id="transaction-datetime"
        @value={{this.newTransactionDatetime}}
        placeholder="2023-01-01 00:00"
      />
    </dd>
    <dt><label for="transaction-new-owner">
      New owner ID
    </label></dt>
    <dd>
      <Input
        id="transaction-new-owner"
        @value={{this.newOwner}}
        placeholder="64A68A6AB3020C92BA8D9DE4"
      />
    </dd>
    <dt><label for="transaction-received-product">
      Received product ID
    </label></dt>
    <dd>
      <Input
        id="transaction-received-product"
        @value={{this.receivedProduct}}
        placeholder="64A8036EDDF042E61F69B2C4"
      />
    </dd>
  </dl>
  <button type="submit">Create</button>
</form>

{{outlet}}